# ğŸ“¢å…¬å‘Š

### 8/2

* ä¿®æ”¹semester course è³‡æ–™
* æ–°å¢semester course repositoryä¾†ç°¡åŒ–saveéç¨‹
  * å› ç‚ºè‡ªå®šç¾©çš„idç„¡æ³•è®“saveæ­£ç¢ºé‹ä½œ (save æ˜¯é idä¾†æŸ¥è©¢è³‡æ–™åº«æœ‰ç„¡å­˜åœ¨è³‡æ–™ï¼Œä¸å­˜åœ¨å°±insertï¼Œå­˜åœ¨å°±æ›´æ–° )
* å¢åŠ èª²ç¨‹çˆ¬èŸ²ï¼Œæ˜¯ç‚ºäº†æ–¹ä¾¿æ¸¬è©¦ï¼Œå¯ import 108å­¸å¹´åº¦ç¬¬ä¸€å­¸æœŸçš„ èª²ç¨‹

### 8/1

* å»é™¤setter getterï¼Œé¿å…ä½¿ç”¨typeorm apiæ™‚ï¼Œå¾—åˆ°ä¸é æœŸçš„çµæœ
* å»é™¤DatePeriod ï¼ˆå› ç‚ºéƒ½æ²’ç”¨åˆ°ï¼‰

<details>
<summary><strong>...å…¶ä»–å…¬å‘Š...</strong></summary>

### 7/28

* æ›´æ–° SemesterCourseModuleï¼Œç›®å‰å·²ç¶“å¯ä»¥é‹ä½œğŸ‰ğŸ‰ğŸ‰    (ç•¶ç„¶é‚„æœ‰è¦ä¿®æ”¹éƒ¨ä»½ï¼Œä½†å¯ä»¥ç©ç©)
  * æƒ³ç©è«‹è®€ä¸‹é¢"é‹ä½œæ–¹æ³•"çš„èªªæ˜
  * semester course moduleåŠ äº†å¾ˆå¤šä¸å¿…è¦çš„consoleè¨Šæ¯ï¼Œä¹‹å¾Œæœƒåˆªé™¤
* ScheduleChange æ–°å¢ä¸€å€‹ æˆå“¡ personID, åœèª²ä¿å­˜åŸ·è¡Œäººidï¼Œè£œèª²ç”³è«‹æˆåŠŸä¿å­˜ç”³è«‹äººid
* SemesterCourse é‚„æ˜¯åœ¨è³‡æ–™åº«å…§å¢åŠ  year, semester, dept, serial

### 7/26

* BookingForm, MakeupCourseForm çš„æµæ°´è™Ÿç‚ºæˆå“¡ formIDï¼Œç›®å‰æ˜¯å…«ä½æ•¸ï¼Œå…©ç¢¼è‹±æ–‡åŠ ä¸Šç”³è«‹åºè™Ÿï¼Œ

  > `BFxxxxxx`, or `MFxxxxxx`

* modelä¿®æ­£ã€è³‡æ–™åº«æ¨£æ¿æ›´æ–°(æ²’æœ‰æ–°å¢æ¸¬è©¦è³‡æ–™)

* ScheduleUtilä¿®æ”¹å®Œç•¢

### 7/24

* å·²ä¿®æ­£åªå›å‚³ç¬¬ä¸€è¡Œçµæœçš„bugï¼Œç›®å‰modelå·²ç¶“å¯ä»¥é‹ä½œ

### 7/23

* ~~typeormç›®å‰å¯ä»¥é‹ä½œï¼Œä½†ä¸çŸ¥è¬‚ä½•éƒ½æ°¸é å›å‚³è³‡æ–™è¡¨ç¬¬ä¸€è¡Œçš„çµæœ    `bug`~~
* è«‹æ³¨æ„ï¼Œæˆ‘å°‡ScheduleUtilå’Œconstant-managerç§»åˆ°utilè³‡æ–™å¤¾
* å› ç‚ºtypeormå¯æ¥å—çš„å¯«æ³•ï¼Œsetter, getteræ”¹æˆä¾ç…§typescriptçš„æ¨™æº–å¯«æ³•
* æˆ‘æœ‰æ”¹ä¸€äº›å¸¸æ•¸ï¼Œå¦‚Periodç¾åœ¨æ˜¯ä»¥Arrayå½¢å¼å‘ˆç¾

## èˆŠçš„å…¬å‘Š

* ç¾åœ¨åˆ°è™•éƒ½æ˜¯æ¼æ´ï¼Œå°¤å…¶controllerã€serviceï¼Œè«‹å°å¿ƒ
* ä½ å€‘å¯«å¥½å¯ä»¥å‚³çµ¦æˆ‘ï¼Œæˆ–ç›´æ¥commitéƒ½å¯ä»¥

</details>

# ğŸ¡æ¶æ§‹ä½œæ³•(åƒè€ƒnestjs)

* è‡ªå·±éš¨æ‰‹ç•«çš„ï¼Œåƒè€ƒåƒè€ƒå°±å¥½ï¼Œèªªä¸å®šå¾ˆå¤šéŒ¯

![img](framework.jpg)

# ğŸš€é‹ä½œæ–¹å¼

## å‰ç½®ä½œæ¥­

#### å®‰è£ä¾è³´åŒ…

1. ä¸‹è¼‰æ­¤projectç¨‹å¼ç¢¼ï¼Œå¯ä»¥ç›´æ¥ä¸‹è¼‰æˆ–æ˜¯ç”¨ git ä¸‹è¼‰

2. åœ¨æ­¤projectæ ¹ç›®éŒ„åŸ·è¡Œ `npm install` å®‰è£ä¾è³´åŒ…

   > æ³¨æ„ï¼šæ¯æ¬¡æˆ‘æ›´æ–°æª”æ¡ˆï¼Œå¯èƒ½æ–°å¢ä¸€äº›ä¾è³´åŒ…ï¼Œæ‰€ä»¥æœ€å¥½æ›´æ–°å¾Œå†å®‰è£ä¸€éä¾è³´åŒ…

#### è³‡æ–™åº«åŒ¯å…¥

1. å»ºç«‹ä¸€å€‹ seminar-project çš„è³‡æ–™åº«

   > åå­—å¯ä»¥éš¨æ„æ”¹ï¼Œä½†æ¸¬è©¦æ™‚ormconfig.jsonå¿…é ˆåšç›¸æ‡‰èª¿æ•´
   >
   
2. åŒ¯å…¥ seminar-project.sql å³å¯ä½¿ç”¨

* seminar-project.sql è³‡æ–™å¡«å¾—ä¸å¤šï¼Œæ²’æœ‰æ¯ä¸€å€‹tableéƒ½å¡«

#### ormconfig.jsonè¨­å®š

* https://typeorm.io/#/using-ormconfig
* è¨˜å¾— usernameã€passwordã€databaseå¯èƒ½éœ€è¦ä¿®æ”¹

## é–‹å§‹é‹ä½œ

1. å•Ÿå‹•å¥½mysqlï¼ˆæˆ– phpmyadmin)
2. projectæ ¹ç›®éŒ„ä¸‹åŸ·è¡Œ `npm run start`
3. å¯ä»¥é–‹å§‹ç©äº†ğŸ‰ ï¼Œå‡ºç¾ä»»ä½•å•é¡Œï¼Œå¯ä»¥å•æˆ‘

## è¦é‹ä½œè‡ªå·±éƒ¨ä»½

* è¨­å®š route (è‡ªå·±æŸ¥)
* åœ¨app moduleè£¡é¢å°‡è¦æ¸¬è©¦çš„moduleè§£é™¤è¨»è§£ï¼Œå³å¯ä¾ä¸Šé¢æ–¹æ³•é–‹å§‹é‹ä½œ

# ğŸ“æª”æ¡ˆçµæ§‹

- model/    -- æ”¾ç½®åŸºæœ¬çš„Class
  - entity/    -- æ”¾ç½®æœƒå­˜åœ¨è³‡æ–™åº«çš„class
  - common/    -- æ”¾ç½®å…¶ä»–çš„Class
  - repository/    -- æ”¾ç½®è‡ªå®šç¾©çš„Repository
- module/   -- æ”¾ç½®åŠŸèƒ½æ€§å€åˆ†çš„controllerèˆ‡service
- util/    -- æ”¾ç½®ä¸€äº›è¼”åŠ©æ€§classï¼Œé€™äº›Classä¸éœ€è¦å»ºç«‹ç‰©ä»¶å³å¯ä½¿ç”¨
  - constant-manager    -- å¸¸æ•¸å€åŸŸ
- ormconfig.json    -- è³‡æ–™åº«è¨­å®š
- seminar-project.sql    -- ç›®å‰çš„è³‡æ–™åº«æ¨£æ¿ï¼Œè³‡æ–™å¡«å¾—ä¸å¤š

# ğŸ‘©ğŸ»â€ğŸ’» ç›®å‰æ¶æ§‹å¾…å®Œæˆ

* [ ] nestjsæ¶æ§‹ç›¸é—œ

  > å¯åƒè€ƒ https://github.com/lujakob/nestjs-realworld-example-app

  * [ ] controller and service

    > controller è¦å‘¼å« service ä¾†è™•ç†å•†æ¥­é‚è¼¯

  * [ ] servcie and repository

    > Service åˆ©ç”¨ repository ä¾†å–ã€ä¿å­˜ å„ç¨® Model ç‰©ä»¶

  * [ ] routeæ²’æœ‰è¨­å®š

  * [ ] pipe

  * [ ] guard

* [ ] Model

  * [x] åˆæ­¥å¯ä»¥èˆ‡typeormé‹ä½œ

  * [x] è®“typeormå¯ä»¥å›å‚³æ­£ç¢ºçš„çµæœ (ç›®å‰æ°¸é å›å‚³è³‡æ–™è¡¨ç¬¬ä¸€è¡Œçš„çµæœ)  `bug`

  * [ ] æµæ°´è™Ÿçš„è¦å®š

  * [x] ä¾åºç¢ºèªentityæ˜¯å¦æœ‰bug

  * [x] IRoomSchedule interfaceçš„å¯¦åš

    > ç”¨ä¾†è™•ç†Schedule, ScheduleChange, å…©å€‹Form, è½‰æ›æˆ ClassroomDateScheduleçš„è¦å®š
    >
    > ä¸å…¨éƒ¨å¯«åœ¨ClassroomDateScheduleæ˜¯ç‚ºäº†è®“æˆ‘è‡ªå·±è¦ºå¾—codeå¥½çœ‹

  * [ ] entity ä¸€äº› function

    * [ ] æœ‰äº›åƒæ•¸è®€å–æˆ–æ˜¯ä¿å­˜æ™‚ï¼Œéœ€è¦ç¶“éç‰¹æ®Šè™•ç†

* [ ] Util

  * [x] ScheduleUtil çš„æ›´æ­£

* [ ] ç´°éƒ¨é‚è¼¯æ²’è€ƒæ…®åˆ°

  > ClassScheduleManger, EquipmentManager, ...
  >
  > ä¸€å †ä¸€å®šè¦å¯¦ä½œçš„functionæ²’æœ‰åˆ—åˆ°

# ğŸ§¾åŠŸèƒ½é€²åº¦

- [ ] å¸³è™Ÿç®¡ç† 

  - [ ] å¸³è™Ÿç”³è«‹ï¼ˆåŠ©æ•™ï¼‰-- UserController.signupTA

  - [ ] æŸ¥çœ‹å€‹äººè³‡æ–™ -- UserController.findOne

  - [ ] ä¿®æ”¹å€‹äººè³‡æ–™ -- UserController.update(?)

  - [ ] ä¿®æ”¹å¯†ç¢¼ -- UserController.updatePassword(?) 

    > æœ‰éœ€è¦è·Ÿä¿®æ”¹å€‹äººè³‡æ–™åˆä½µå—?

- [ ] æ•™å®¤å¯å€Ÿç”¨æ™‚æ®µ -- Schedule.findClassroomWeekSchedule

- [ ] è¨­å‚™æ•™å®¤å€Ÿç”¨ç”³è«‹
  <details>
  <summary>æ‰€éœ€è³‡æ–™</summary>
  
  - ç³»å…§äººã€ç³»å¤–äºº
  - ç”³è«‹è€…idï¼ˆç³»å…§äººï¼‰
  - ç”³è«‹è€…å§“åï¼ˆç³»å¤–äººï¼‰
  - ç”³è«‹è€…email
  - ç”³è«‹è€…Phone
  - å€Ÿç”¨æ—¥æœŸ
  - å€Ÿç”¨æ™‚æ®µå€é–“
  - å€Ÿç”¨æ•™å®¤
  - å€Ÿç”¨è¨­å‚™
    - é¡åˆ¥
    - è¨­å‚™å
  - ç¸½é‡‘é¡ï¼ˆç³»å¤–äººï¼‰
  
  </details>
  
  - [ ] æŸ¥è©¢å¯å€Ÿç”¨è¨­å‚™ -- ?
  - [ ] æ–°å¢ç”³è«‹ -- BookingController.create
  - [ ] æŸ¥è©¢ç”³è«‹é€²åº¦ -- BookingController.findOne
  - [ ] åˆªé™¤å¾…å¯©æ ¸ç”³è«‹ -- BookingController.remove

- [ ] èª²ç¨‹ç®¡ç†

  - [ ] è£œèª²
    - [ ] è£œèª²ç”³è«‹ -- CourseChangeController.createMakeupCourseForm
    - [ ] æŸ¥çœ‹è£œèª²ç”³è«‹ -- CourseChangeController.findMakeupCourseForm
    - [ ] åˆªé™¤è£œèª²ç”³è«‹ -- ?
  - [ ] åœèª²
    - [ ] è¨­å®šåœèª² -- CourseChangeController.cancealCourse
    - [ ] å–æ¶ˆåœèª² -- ?
  - [ ] åŠ©æ•™ç®¡ç†
    - [ ] åŠ å…¥åŠ©æ•™ -- CourseChangeController.addTA
    - [ ] åˆªé™¤åŠ©æ•™ -- CourseChnageController.removeTA

- [ ] å¯©æ ¸

  - [ ] å€Ÿç”¨ç”³è«‹
    - [ ] æŸ¥çœ‹å¾…å¯©æ ¸å€Ÿç”¨ç”³è«‹ -- BookingController.findOnPending
      - [ ] å¯©æ ¸å…¶ä¸­ä¸€å€‹ç”³è«‹ -- BookingController.findOnPending
    - [ ] æŸ¥çœ‹å·²å¯©æ ¸ç”³è«‹ -- BookingController.findOnPending
  - [ ] è£œèª²ç”³è«‹
    - [ ] æŸ¥çœ‹å¾…å¯©æ ¸å€Ÿç”¨ç”³è«‹ -- CourseChangeController.findOnPending
      - [ ] å¯©æ ¸å…¶ä¸­ä¸€å€‹ç”³è«‹ -- CourseChangeController.checkMakeupCourse
    - [ ] æŸ¥çœ‹å·²å¯©æ ¸ç”³è«‹ -- CourseChangeController.findChecked

- [ ] å­¸æœŸç®¡ç†

  - [ ] å­¸æœŸ

    - [ ] æ–°å¢å­¸æœŸ -- ? 
    - [ ] ä¿®æ”¹å­¸æœŸ -- ?

  - [ ] å­¸æœŸèª²ç¨‹

    <details>
    <summary>æ‰€éœ€è³‡æ–™</summary>

    - èª²ç¨‹ä»£ç¢¼ï¼ˆç„¡é—œå­¸æœŸï¼‰
      
      > æˆ–è¨±èª²ç¨‹ä¹Ÿéœ€è¦CRUD?
    - é¸èª²åºè™Ÿ
    - ä¸Šèª²æ•™å®¤
    - ä¸Šèª²è€å¸«
    - èª²ç¨‹æ™‚æ®µ

    </details>

    - [ ] çˆ¬èŸ²å°å…¥è³‡æ–™ -- ?

    - [ ] æ–°å¢å­¸æœŸèª²ç¨‹ -- SemesterCourseController.create

    - [ ] æŸ¥çœ‹æ‰€æœ‰èª²ç¨‹ -- SemesterCourseController.findAll

    - [ ] ä¿®æ”¹å­¸æœŸèª²ç¨‹ -- SemesterCourseController.update

    - [ ] åˆªé™¤å­¸æœŸèª²ç¨‹ -- SemesterCourseController.delete

  - [ ] é¸èª²å­¸ç”Ÿ

    - [ ] åŠ å…¥é¸èª²å­¸ç”Ÿ -- ?
    - [ ] åˆªé™¤é¸èª²å­¸ç”Ÿ -- ?

- [ ] è§’è‰²ç®¡ç†

  - [ ] è½‰æ›è§’è‰²æ¬Šé™ï¼ˆç³»ä¸»ä»»ã€æ•™æˆï¼‰-- UserController.setRole

    > i.e. æŒ‡æ´¾ç³»ä¸»ä»»

- [ ] åˆ·å¡ç´€éŒ„

  - [ ] ä¾æ•™å®¤ã€æ™‚é–“ç¯„åœæ‰¾å‡ºæ‰€æœ‰åˆ·å¡ç´€éŒ„ -- CardController.findRecord

- [ ] api åŠŸèƒ½

  - [ ] åˆ·å¡æ¬Šé™åˆ¤å®š -- CardController.checkAuthorization
  - [ ] ä¿å­˜åˆ·å¡ç´€éŒ„ -- CardController.saveRecord